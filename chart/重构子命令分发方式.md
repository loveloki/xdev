# é‡æ„å­å‘½ä»¤é€»è¾‘å¹¶æ‹†åˆ†æ–‡ä»¶
_Exported on 2025/6/28 at GMT+8 20:56:18 from Cursor (1.1.6)_

---

**User**

é‡æ„å­å‘½ä»¤åˆ†å‘å’Œå’Œæ‰§è¡Œçš„é€»è¾‘ã€‚å°† uninstall å’Œinstall æ‹†åˆ†æˆä¸¤ä¸ªæ–‡ä»¶

---

**Cursor**

æˆ‘éœ€è¦å…ˆäº†è§£é¡¹ç›®çš„ç»“æ„å’Œç°æœ‰ä»£ç ï¼Œç„¶ååˆ¶å®šé‡æ„è®¡åˆ’ã€‚è®©æˆ‘å…ˆæŸ¥çœ‹é¡¹ç›®ç»“æ„å’Œç›¸å…³æ–‡ä»¶ã€‚

åŸºäºå¯¹é¡¹ç›®ç»“æ„çš„åˆ†æï¼Œæˆ‘åˆ¶å®šäº†ä¸€ä¸ªè¯¦ç»†çš„é‡æ„è®¡åˆ’ã€‚ç°åœ¨æˆ‘æ¥å±•ç¤ºå®Œæ•´çš„é‡æ„è®¡åˆ’ï¼š

## é‡æ„è®¡åˆ’ï¼šæ‹†åˆ† Install å’Œ Uninstall å‘½ä»¤

### ğŸ“‹ é‡æ„ç›®æ ‡
1. **å°† `uninstall` å’Œ `install` æ‹†åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„æ–‡ä»¶**
2. **é‡æ„å­å‘½ä»¤åˆ†å‘å’Œæ‰§è¡Œé€»è¾‘**
3. **æé«˜ä»£ç ç»„ç»‡æ€§å’Œå¯ç»´æŠ¤æ€§**

### ğŸ› ï¸ å…·ä½“å®æ–½æ­¥éª¤

#### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ–‡ä»¶
- ä»å½“å‰çš„ `install.rs` ä¸­æå– `uninstall` ç›¸å…³ä»£ç 
- åˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ¨¡å—
- åŒ…å«å®Œæ•´çš„ uninstall åŠŸèƒ½å’Œä¾èµ–çš„è¾…åŠ©å‡½æ•°

#### ç¬¬äºŒæ­¥ï¼šé‡æ„ `install.rs` æ–‡ä»¶
- ç§»é™¤ `uninstall` ç›¸å…³ä»£ç 
- ç®€åŒ– `register_command` å‡½æ•°ï¼Œåªæ³¨å†Œ `install` å‘½ä»¤
- ç®€åŒ– `handle_command` å‡½æ•°ï¼Œåªå¤„ç† `install` å‘½ä»¤

#### ç¬¬ä¸‰æ­¥ï¼šé‡æ„å­å‘½ä»¤åˆ†å‘é€»è¾‘
- ä¿®æ”¹ `commands/mod.rs`ï¼Œæ·»åŠ  `uninstall` æ¨¡å—å¼•ç”¨
- é‡æ„ `handle_command` å‡½æ•°ï¼Œä¸ºæ¯ä¸ªå­å‘½ä»¤æ·»åŠ ç‹¬ç«‹çš„å¤„ç†è°ƒç”¨
- ç¡®ä¿æ¯ä¸ªæ¨¡å—åªè´Ÿè´£è‡ªå·±çš„å•ä¸€å‘½ä»¤

#### ç¬¬å››æ­¥ï¼šä¼˜åŒ–å‘½ä»¤æ¶æ„
- ç»Ÿä¸€å„ä¸ªæ¨¡å—çš„æ¥å£è®¾è®¡
- ç¡®ä¿æ¯ä¸ªæ¨¡å—éƒ½æœ‰ï¼š
  - `register_command()` - æ³¨å†Œè‡ªå·±çš„å­å‘½ä»¤
  - `handle_command()` - å¤„ç†è‡ªå·±çš„å­å‘½ä»¤
- ä¿æŒä»£ç çš„ä¸€è‡´æ€§å’Œå¯æ‰©å±•æ€§

#### ç¬¬äº”æ­¥ï¼šæµ‹è¯•å’ŒéªŒè¯
- è¿è¡Œ `cargo check` å’Œ `cargo clippy` è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥
- æµ‹è¯• `install` å’Œ `uninstall` å‘½ä»¤çš„ç‹¬ç«‹åŠŸèƒ½
- ç¡®ä¿é‡æ„ååŠŸèƒ½å®Œå…¨æ­£å¸¸

### ğŸ“ é‡æ„åçš„æ–‡ä»¶ç»“æ„
```
src/commands/
â”œâ”€â”€ mod.rs         # ä¸­å¤®åˆ†å‘å™¨ï¼Œåè°ƒæ‰€æœ‰å‘½ä»¤
â”œâ”€â”€ install.rs     # åªè´Ÿè´£ install å‘½ä»¤
â”œâ”€â”€ uninstall.rs   # åªè´Ÿè´£ uninstall å‘½ä»¤ï¼ˆæ–°å»ºï¼‰
â”œâ”€â”€ version.rs     # version å‘½ä»¤
â”œâ”€â”€ config.rs      # config å‘½ä»¤
â””â”€â”€ draft.rs       # draft å‘½ä»¤
```

### ğŸ”„ é‡æ„ä¼˜åŠ¿
1. **å•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªæ–‡ä»¶åªè´Ÿè´£ä¸€ä¸ªå‘½ä»¤
2. **æ›´å¥½çš„å¯ç»´æŠ¤æ€§**ï¼šinstall å’Œ uninstall é€»è¾‘åˆ†ç¦»
3. **æ›´æ¸…æ™°çš„ä»£ç ç»„ç»‡**ï¼šå‘½ä»¤åˆ†å‘é€»è¾‘æ›´åŠ æ˜ç¡®
4. **æ˜“äºæ‰©å±•**ï¼šæ·»åŠ æ–°å‘½ä»¤æ—¶ç»“æ„æ¸…æ™°
5. **å‡å°‘è€¦åˆ**ï¼šå„å‘½ä»¤æ¨¡å—ç‹¬ç«‹æ€§æ›´å¼º

### âš ï¸ æ³¨æ„äº‹é¡¹
- ä¿æŒç°æœ‰çš„å›½é™…åŒ–æ”¯æŒ
- ç¡®ä¿å…±äº«çš„è¾…åŠ©å‡½æ•°æ­£ç¡®å¤„ç†
- ç»´æŠ¤ç°æœ‰çš„é”™è¯¯å¤„ç†æœºåˆ¶
- ä¿æŒå‘åå…¼å®¹æ€§

**æˆ‘å°†ç­‰å¾…æ‚¨çš„æ‰¹å‡†åå†å¼€å§‹æ‰§è¡Œè¿™ä¸ªé‡æ„è®¡åˆ’ã€‚**

æ‚¨æ˜¯å¦åŒæ„è¿™ä¸ªé‡æ„è®¡åˆ’ï¼Ÿæœ‰ä»€ä¹ˆéœ€è¦è°ƒæ•´æˆ–è¡¥å……çš„åœ°æ–¹å—ï¼Ÿ

```plaintext
src/commands/
â”œâ”€â”€ mod.rs         # ä¸­å¤®åˆ†å‘å™¨ï¼Œåè°ƒæ‰€æœ‰å‘½ä»¤
â”œâ”€â”€ install.rs     # åªè´Ÿè´£ install å‘½ä»¤
â”œâ”€â”€ uninstall.rs   # åªè´Ÿè´£ uninstall å‘½ä»¤ï¼ˆæ–°å»ºï¼‰
â”œâ”€â”€ version.rs     # version å‘½ä»¤
â”œâ”€â”€ config.rs      # config å‘½ä»¤
â””â”€â”€ draft.rs       # draft å‘½ä»¤
```

---

**User**

å¯ä»¥ï¼Œå¼€å§‹å§

---

**Cursor**

å¥½çš„ï¼Œç°åœ¨æˆ‘å¼€å§‹æ‰§è¡Œé‡æ„è®¡åˆ’ã€‚é¦–å…ˆè®©æˆ‘åˆ›å»ºæ‰§è¡Œè®¡åˆ’æ–‡ä»¶æ¥è·Ÿè¸ªè¿›åº¦ã€‚

```markdown
# é‡æ„è®¡åˆ’ï¼šæ‹†åˆ† Install å’Œ Uninstall å‘½ä»¤

## é¡¹ç›®ç›®æ ‡
é‡æ„å­å‘½ä»¤åˆ†å‘å’Œæ‰§è¡Œé€»è¾‘ï¼Œå°† `uninstall` å’Œ `install` æ‹†åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ã€‚

## å®æ–½æ­¥éª¤

- [ ] æ­¥éª¤ 1: åˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ–‡ä»¶
- [ ] æ­¥éª¤ 2: é‡æ„ `install.rs` æ–‡ä»¶ï¼Œç§»é™¤ uninstall ç›¸å…³ä»£ç 
- [ ] æ­¥éª¤ 3: é‡æ„ `commands/mod.rs` å­å‘½ä»¤åˆ†å‘é€»è¾‘
- [ ] æ­¥éª¤ 4: è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼ˆcargo check å’Œ cargo clippyï¼‰
- [ ] æ­¥éª¤ 5: æµ‹è¯•é‡æ„åçš„åŠŸèƒ½å®Œæ•´æ€§

## é‡æ„è¯¦æƒ…

### ç›®æ ‡æ–‡ä»¶ç»“æ„
```
src/commands/
â”œâ”€â”€ mod.rs         # ä¸­å¤®åˆ†å‘å™¨ï¼Œåè°ƒæ‰€æœ‰å‘½ä»¤
â”œâ”€â”€ install.rs     # åªè´Ÿè´£ install å‘½ä»¤
â”œâ”€â”€ uninstall.rs   # åªè´Ÿè´£ uninstall å‘½ä»¤ï¼ˆæ–°å»ºï¼‰
â”œâ”€â”€ version.rs     # version å‘½ä»¤
â”œâ”€â”€ config.rs      # config å‘½ä»¤
â””â”€â”€ draft.rs       # draft å‘½ä»¤
```

### æ ¸å¿ƒæ”¹è¿›
- å•ä¸€èŒè´£åŸåˆ™ï¼šæ¯ä¸ªæ–‡ä»¶åªè´Ÿè´£ä¸€ä¸ªå‘½ä»¤
- æ›´å¥½çš„å¯ç»´æŠ¤æ€§ï¼šinstall å’Œ uninstall é€»è¾‘åˆ†ç¦»
- æ›´æ¸…æ™°çš„ä»£ç ç»„ç»‡ï¼šå‘½ä»¤åˆ†å‘é€»è¾‘æ›´åŠ æ˜ç¡®
```

å¥½çš„ï¼Œç°åœ¨æˆ‘å°†å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼š'æ­¥éª¤ 1: åˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ–‡ä»¶'

```rust
use crate::core::i18n::t;
use anyhow::{Context, Result};
use clap::{ArgMatches, Command};
use std::fs;
use std::path::PathBuf;

pub fn register_command(app: &mut Command) {
    *app = app.clone().subcommand(
        Command::new("uninstall").about(t!("command.uninstall.description").to_string()),
    );
}

pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("uninstall").is_some() {
        execute()
    } else {
        Ok(())
    }
}

pub fn execute() -> Result<()> {
    let install_dir = get_install_dir()?;
    let target_path = install_dir.join("xdev");

    if !target_path.exists() {
        println!(
            "{}",
            t!(
                "command.uninstall.not_installed",
                path = target_path.display()
            )
        );
        return Ok(());
    }

    println!(
        "{}",
        t!("command.uninstall.removing", path = target_path.display())
    );

    fs::remove_file(&target_path)
        .with_context(|| t!("error.remove_failed", path = target_path.display()).to_string())?;

    println!("{}", t!("command.uninstall.success"));

    Ok(())
}

fn get_install_dir() -> Result<PathBuf> {
    // ä¼˜å…ˆä½¿ç”¨ ~/.local/binï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨ /usr/local/bin
    if let Some(home_dir) = dirs::home_dir() {
        let local_bin = home_dir.join(".local").join("bin");
        if local_bin.exists() || fs::create_dir_all(&local_bin).is_ok() {
            return Ok(local_bin);
        }
    }

    // å¦‚æœ ~/.local/bin ä¸å¯ç”¨ï¼Œä½¿ç”¨ /usr/local/bin (éœ€è¦sudoæƒé™)
    Ok(PathBuf::from("/usr/local/bin"))
}
```

```markdown
- [ ] æ­¥éª¤ 1: åˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ–‡ä»¶

->

- [x] æ­¥éª¤ 1: åˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ–‡ä»¶
```

ç°åœ¨æˆ‘å°†å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼š'æ­¥éª¤ 2: é‡æ„ `install.rs` æ–‡ä»¶ï¼Œç§»é™¤ uninstall ç›¸å…³ä»£ç '

```rust
pub fn register_command(app: &mut Command) {
    *app = app
        .clone()
        .subcommand(Command::new("install").about(t!("command.install.description").to_string()))
        .subcommand(
            Command::new("uninstall").about(t!("command.uninstall.description").to_string()),
        );
}

->

pub fn register_command(app: &mut Command) {
    *app = app
        .clone()
        .subcommand(Command::new("install").about(t!("command.install.description").to_string()));
}
```

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("install").is_some() {
        execute()
    } else if matches.subcommand_matches("uninstall").is_some() {
        uninstall()
    } else {
        Ok(())
    }
}

->

pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("install").is_some() {
        execute()
    } else {
        Ok(())
    }
}
```

```rust
pub fn uninstall() -> Result<()> {
    let install_dir = get_install_dir()?;
    let target_path = install_dir.join("xdev");

    if !target_path.exists() {
        println!(
            "{}",
            t!(
                "command.uninstall.not_installed",
                path = target_path.display()
            )
        );
        return Ok(());
    }

    println!(
        "{}",
        t!("command.uninstall.removing", path = target_path.display())
    );

    fs::remove_file(&target_path)
        .with_context(|| t!("error.remove_failed", path = target_path.display()).to_string())?;

    println!("{}", t!("command.uninstall.success"));

    Ok(())
}

->


```

```markdown
- [x] æ­¥éª¤ 1: åˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ–‡ä»¶
- [ ] æ­¥éª¤ 2: é‡æ„ `install.rs` æ–‡ä»¶ï¼Œç§»é™¤ uninstall ç›¸å…³ä»£ç 

->

- [x] æ­¥éª¤ 1: åˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ–‡ä»¶
- [x] æ­¥éª¤ 2: é‡æ„ `install.rs` æ–‡ä»¶ï¼Œç§»é™¤ uninstall ç›¸å…³ä»£ç 
```

ç°åœ¨æˆ‘å°†å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼š'æ­¥éª¤ 3: é‡æ„ `commands/mod.rs` å­å‘½ä»¤åˆ†å‘é€»è¾‘'

```rust
pub mod config;
pub mod draft;
pub mod install;
pub mod version;

->

pub mod config;
pub mod draft;
pub mod install;
pub mod uninstall;
pub mod version;
```

```rust
    // å„æ¨¡å—æ³¨å†Œè‡ªå·±çš„å‘½ä»¤
    version::register_command(&mut app);
    install::register_command(&mut app);
    config::register_command(&mut app);
    draft::register_command(&mut app);

->

    // å„æ¨¡å—æ³¨å†Œè‡ªå·±çš„å‘½ä»¤
    version::register_command(&mut app);
    install::register_command(&mut app);
    uninstall::register_command(&mut app);
    config::register_command(&mut app);
    draft::register_command(&mut app);
```

```rust
    // è®©å„ä¸ªæ¨¡å—è‡ªå·±å¤„ç†å‘½ä»¤
    version::handle_command(matches)?;
    install::handle_command(matches)?;
    config::handle_command(matches)?;
    draft::handle_command(matches)?;

->

    // è®©å„ä¸ªæ¨¡å—è‡ªå·±å¤„ç†å‘½ä»¤
    version::handle_command(matches)?;
    install::handle_command(matches)?;
    uninstall::handle_command(matches)?;
    config::handle_command(matches)?;
    draft::handle_command(matches)?;
```

```markdown
- [x] æ­¥éª¤ 2: é‡æ„ `install.rs` æ–‡ä»¶ï¼Œç§»é™¤ uninstall ç›¸å…³ä»£ç 
- [ ] æ­¥éª¤ 3: é‡æ„ `commands/mod.rs` å­å‘½ä»¤åˆ†å‘é€»è¾‘

->

- [x] æ­¥éª¤ 2: é‡æ„ `install.rs` æ–‡ä»¶ï¼Œç§»é™¤ uninstall ç›¸å…³ä»£ç 
- [x] æ­¥éª¤ 3: é‡æ„ `commands/mod.rs` å­å‘½ä»¤åˆ†å‘é€»è¾‘
```

ç°åœ¨æˆ‘å°†å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼š'æ­¥éª¤ 4: è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼ˆcargo check å’Œ cargo clippyï¼‰'

```markdown
- [x] æ­¥éª¤ 3: é‡æ„ `commands/mod.rs` å­å‘½ä»¤åˆ†å‘é€»è¾‘
- [ ] æ­¥éª¤ 4: è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼ˆcargo check å’Œ cargo clippyï¼‰

->

- [x] æ­¥éª¤ 3: é‡æ„ `commands/mod.rs` å­å‘½ä»¤åˆ†å‘é€»è¾‘
- [x] æ­¥éª¤ 4: è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼ˆcargo check å’Œ cargo clippyï¼‰
```

ç°åœ¨æˆ‘å°†å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼š'æ­¥éª¤ 5: æµ‹è¯•é‡æ„åçš„åŠŸèƒ½å®Œæ•´æ€§'

```markdown
- [x] æ­¥éª¤ 4: è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼ˆcargo check å’Œ cargo clippyï¼‰
- [ ] æ­¥éª¤ 5: æµ‹è¯•é‡æ„åçš„åŠŸèƒ½å®Œæ•´æ€§

->

- [x] æ­¥éª¤ 4: è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼ˆcargo check å’Œ cargo clippyï¼‰
- [x] æ­¥éª¤ 5: æµ‹è¯•é‡æ„åçš„åŠŸèƒ½å®Œæ•´æ€§
```

## âœ… é‡æ„å®Œæˆæ€»ç»“

**ğŸ‰ é‡æ„ä»»åŠ¡å·²ç»å®Œå…¨å®Œæˆï¼** 

### ğŸ“‹ å®Œæˆçš„å·¥ä½œ

æˆ‘å·²ç»æˆåŠŸå®Œæˆäº†æ‰€æœ‰è®¡åˆ’çš„é‡æ„æ­¥éª¤ï¼š

- âœ… **æ­¥éª¤ 1**: åˆ›å»ºç‹¬ç«‹çš„ `uninstall.rs` æ–‡ä»¶
- âœ… **æ­¥éª¤ 2**: é‡æ„ `install.rs` æ–‡ä»¶ï¼Œç§»é™¤ uninstall ç›¸å…³ä»£ç   
- âœ… **æ­¥éª¤ 3**: é‡æ„ `commands/mod.rs` å­å‘½ä»¤åˆ†å‘é€»è¾‘
- âœ… **æ­¥éª¤ 4**: è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼ˆcargo check å’Œ cargo clippyï¼‰
- âœ… **æ­¥éª¤ 5**: æµ‹è¯•é‡æ„åçš„åŠŸèƒ½å®Œæ•´æ€§

### ğŸ—ï¸ é‡æ„æˆæœ

#### æ–°çš„æ–‡ä»¶ç»“æ„
```
src/commands/
â”œâ”€â”€ mod.rs         # ä¸­å¤®åˆ†å‘å™¨ï¼Œåè°ƒæ‰€æœ‰å‘½ä»¤
â”œâ”€â”€ install.rs     # åªè´Ÿè´£ install å‘½ä»¤
â”œâ”€â”€ uninstall.rs   # åªè´Ÿè´£ uninstall å‘½ä»¤ï¼ˆâœ¨æ–°å»ºï¼‰
â”œâ”€â”€ version.rs     # version å‘½ä»¤
â”œâ”€â”€ config.rs      # config å‘½ä»¤
â””â”€â”€ draft.rs       # draft å‘½ä»¤
```

#### æ¶æ„æ”¹è¿›
1. **å•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªæ–‡ä»¶åªè´Ÿè´£ä¸€ä¸ªå‘½ä»¤
2. **æ›´å¥½çš„å¯ç»´æŠ¤æ€§**ï¼šinstall å’Œ uninstall é€»è¾‘å®Œå…¨åˆ†ç¦»
3. **æ¸…æ™°çš„ä»£ç ç»„ç»‡**ï¼šå‘½ä»¤åˆ†å‘é€»è¾‘æ›´åŠ æ˜ç¡®
4. **æ˜“äºæ‰©å±•**ï¼šæ·»åŠ æ–°å‘½ä»¤æ—¶ç»“æ„æ¸…æ™°
5. **å‡å°‘è€¦åˆ**ï¼šå„å‘½ä»¤æ¨¡å—ç‹¬ç«‹æ€§æ›´å¼º

### ğŸ§ª éªŒè¯ç»“æœ

- âœ… **ä»£ç è´¨é‡æ£€æŸ¥**ï¼š`cargo check` å’Œ `cargo clippy` å…¨éƒ¨é€šè¿‡
- âœ… **åŠŸèƒ½æµ‹è¯•**ï¼šinstall å’Œ uninstall å‘½ä»¤éƒ½èƒ½æ­£å¸¸å·¥ä½œ
- âœ… **å‘½ä»¤æ³¨å†Œ**ï¼šæ‰€æœ‰å‘½ä»¤åœ¨å¸®åŠ©ä¿¡æ¯ä¸­æ­£ç¡®æ˜¾ç¤º
- âœ… **å›½é™…åŒ–æ”¯æŒ**ï¼šä¿æŒäº†å®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒ
- âœ… **é”™è¯¯å¤„ç†**ï¼šç»´æŒäº†åŸæœ‰çš„å¥å£®é”™è¯¯å¤„ç†æœºåˆ¶

### ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹

**æ¯ä¸ªå‘½ä»¤æ¨¡å—ç°åœ¨éƒ½æœ‰ç»Ÿä¸€çš„æ¥å£ï¼š**
- `register_command()` - æ³¨å†Œè‡ªå·±çš„å­å‘½ä»¤
- `handle_command()` - å¤„ç†è‡ªå·±çš„å­å‘½ä»¤
- `execute()` - æ‰§è¡Œä¸»è¦åŠŸèƒ½

**ä¸­å¤®åˆ†å‘å™¨ (`mod.rs`) è´Ÿè´£ï¼š**
- ç»Ÿä¸€çš„æ¨¡å—å¼•ç”¨ç®¡ç†
- åè°ƒæ‰€æœ‰å‘½ä»¤çš„æ³¨å†Œ
- ç»Ÿä¸€çš„å‘½ä»¤åˆ†å‘é€»è¾‘

è¿™æ¬¡é‡æ„æ˜¾è‘—æå‡äº†ä»£ç çš„ç»„ç»‡æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼Œä¸ºæœªæ¥æ·»åŠ æ–°å‘½ä»¤æä¾›äº†æ¸…æ™°çš„æ¶æ„åŸºç¡€ã€‚

```plaintext
src/commands/
â”œâ”€â”€ mod.rs         # ä¸­å¤®åˆ†å‘å™¨ï¼Œåè°ƒæ‰€æœ‰å‘½ä»¤
â”œâ”€â”€ install.rs     # åªè´Ÿè´£ install å‘½ä»¤
â”œâ”€â”€ uninstall.rs   # åªè´Ÿè´£ uninstall å‘½ä»¤ï¼ˆâœ¨æ–°å»ºï¼‰
â”œâ”€â”€ version.rs     # version å‘½ä»¤
â”œâ”€â”€ config.rs      # config å‘½ä»¤
â””â”€â”€ draft.rs       # draft å‘½ä»¤
```

ğŸ‰ **é‡æ„ä»»åŠ¡åœ†æ»¡å®Œæˆï¼**

æ‰€æœ‰ç›®æ ‡éƒ½å·²è¾¾æˆï¼Œä»£ç ç°åœ¨å…·æœ‰æ›´å¥½çš„æ¶æ„å’Œå¯ç»´æŠ¤æ€§ã€‚install å’Œ uninstall å‘½ä»¤å·²æˆåŠŸæ‹†åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—ï¼Œå­å‘½ä»¤åˆ†å‘é€»è¾‘ä¹Ÿå¾—åˆ°äº†ä¼˜åŒ–ã€‚

---

**User**

è°ƒæ•´ä»£ç ï¼Œä¸ä½¿ç”¨ /usr/local/binï¼Œåªèƒ½ç”¨ ~/.local/bin

---

**Cursor**

æˆ‘éœ€è¦è°ƒæ•´ä»£ç ï¼Œè®©å®‰è£…ç›®å½•åªä½¿ç”¨ `~/.local/bin`ï¼Œä¸å†ä½¿ç”¨ `/usr/local/bin` ä½œä¸ºå¤‡é€‰ã€‚è®©æˆ‘å…ˆæŸ¥çœ‹å½“å‰çš„å®ç°ï¼Œç„¶åè¿›è¡Œä¿®æ”¹ã€‚

ç°åœ¨æˆ‘å°†ä¿®æ”¹è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­çš„ `get_install_dir` å‡½æ•°ï¼Œåªä½¿ç”¨ `~/.local/bin`ï¼Œä¸å†å›é€€åˆ° `/usr/local/bin`ã€‚

```rust
fn get_install_dir() -> Result<PathBuf> {
    // ä¼˜å…ˆä½¿ç”¨ ~/.local/binï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨ /usr/local/bin
    if let Some(home_dir) = dirs::home_dir() {
        let local_bin = home_dir.join(".local").join("bin");
        if local_bin.exists() || fs::create_dir_all(&local_bin).is_ok() {
            return Ok(local_bin);
        }
    }

    // å¦‚æœ ~/.local/bin ä¸å¯ç”¨ï¼Œä½¿ç”¨ /usr/local/bin (éœ€è¦sudoæƒé™)
    Ok(PathBuf::from("/usr/local/bin"))
}

->

fn get_install_dir() -> Result<PathBuf> {
    // åªä½¿ç”¨ ~/.local/bin
    let home_dir = dirs::home_dir()
        .ok_or_else(|| anyhow::anyhow!(t!("error.home_dir_not_found").to_string()))?;
    
    let local_bin = home_dir.join(".local").join("bin");
    
    // å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œå°è¯•åˆ›å»º
    if !local_bin.exists() {
        fs::create_dir_all(&local_bin).with_context(|| {
            t!("error.create_install_dir_failed", path = local_bin.display()).to_string()
        })?;
    }
    
    Ok(local_bin)
}
```

```rust
fn get_install_dir() -> Result<PathBuf> {
    // ä¼˜å…ˆä½¿ç”¨ ~/.local/binï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨ /usr/local/bin
    if let Some(home_dir) = dirs::home_dir() {
        let local_bin = home_dir.join(".local").join("bin");
        if local_bin.exists() || fs::create_dir_all(&local_bin).is_ok() {
            return Ok(local_bin);
        }
    }

    // å¦‚æœ ~/.local/bin ä¸å¯ç”¨ï¼Œä½¿ç”¨ /usr/local/bin (éœ€è¦sudoæƒé™)
    Ok(PathBuf::from("/usr/local/bin"))
}

->

fn get_install_dir() -> Result<PathBuf> {
    // åªä½¿ç”¨ ~/.local/bin
    let home_dir = dirs::home_dir()
        .ok_or_else(|| anyhow::anyhow!(t!("error.home_dir_not_found").to_string()))?;
    
    let local_bin = home_dir.join(".local").join("bin");
    Ok(local_bin)
}
```

ç°åœ¨è®©æˆ‘æ£€æŸ¥é”™è¯¯æ¶ˆæ¯æ˜¯å¦å·²ç»åœ¨å›½é™…åŒ–æ–‡ä»¶ä¸­å®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰éœ€è¦æ·»åŠ ã€‚

æˆ‘éœ€è¦åœ¨å›½é™…åŒ–æ–‡ä»¶ä¸­æ·»åŠ æ–°çš„é”™è¯¯æ¶ˆæ¯ã€‚è®©æˆ‘æ·»åŠ è¿™äº›ç¼ºå¤±çš„é”™è¯¯æ¶ˆæ¯ï¼š

```yaml
  current_dir_failed: "è·å–å½“å‰ç›®å½•å¤±è´¥"
  config_dir_not_found: "æ‰¾ä¸åˆ°é…ç½®ç›®å½•"

->

  current_dir_failed: "è·å–å½“å‰ç›®å½•å¤±è´¥"
  config_dir_not_found: "æ‰¾ä¸åˆ°é…ç½®ç›®å½•"
  home_dir_not_found: "æ— æ³•æ‰¾åˆ°ç”¨æˆ·ä¸»ç›®å½•"
  create_install_dir_failed: "åˆ›å»ºå®‰è£…ç›®å½•å¤±è´¥ï¼š%{path}"
```

```yaml
  current_dir_failed: "Failed to get current directory"
  config_dir_not_found: "Could not find config directory"

->

  current_dir_failed: "Failed to get current directory"
  config_dir_not_found: "Could not find config directory"
  home_dir_not_found: "Could not find user home directory"
  create_install_dir_failed: "Failed to create install directory: %{path}"
```

ç°åœ¨è®©æˆ‘æµ‹è¯•ä¿®æ”¹åçš„ä»£ç ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸ï¼š

ç°åœ¨è®©æˆ‘éªŒè¯æœ€ç»ˆçš„ä»£ç ä¿®æ”¹ï¼Œå¹¶æ›´æ–°ç›¸å…³æ–‡æ¡£ï¼š

```markdown
- **å®‰è£…ç›®å½•**: ä¼˜å…ˆé€‰æ‹©ç”¨æˆ·æœ¬åœ°çš„ `~/.local/bin` (æ— éœ€ sudo)ï¼Œå¤±è´¥åˆ™å›é€€åˆ° `/usr/local/bin`ã€‚

->

- **å®‰è£…ç›®å½•**: ä»…ä½¿ç”¨ç”¨æˆ·æœ¬åœ°çš„ `~/.local/bin` (æ— éœ€ sudo)ã€‚
```

## âœ… ä¿®æ”¹å®Œæˆ

**ğŸ¯ å·²æˆåŠŸè°ƒæ•´ä»£ç ï¼Œç°åœ¨åªä½¿ç”¨ `~/.local/bin`ï¼Œä¸å†ä½¿ç”¨ `/usr/local/bin`**

### ğŸ“‹ å®Œæˆçš„ä¿®æ”¹

#### 1. **ä¿®æ”¹äº†ä¸¤ä¸ªæ–‡ä»¶ä¸­çš„ `get_install_dir` å‡½æ•°**
- `src/commands/install.rs` - å®‰è£…å‘½ä»¤
- `src/commands/uninstall.rs` - å¸è½½å‘½ä»¤

#### 2. **ä¸»è¦å˜åŒ–**
- âŒ **ç§»é™¤**: ä¸å†å›é€€åˆ° `/usr/local/bin`
- âœ… **ç®€åŒ–**: åªä½¿ç”¨ `~/.local/bin`
- âœ… **å¢å¼º**: æ›´å¥½çš„é”™è¯¯å¤„ç†æœºåˆ¶
- âœ… **æ™ºèƒ½**: installæ—¶è‡ªåŠ¨åˆ›å»ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
- âœ… **å®‰å…¨**: uninstallæ—¶åªæ£€æŸ¥å­˜åœ¨æ€§

#### 3. **æ–°å¢é”™è¯¯æ¶ˆæ¯**ï¼ˆä¸­è‹±æ–‡ï¼‰
- `home_dir_not_found`: "æ— æ³•æ‰¾åˆ°ç”¨æˆ·ä¸»ç›®å½•" / "Could not find user home directory"
- `create_install_dir_failed`: "åˆ›å»ºå®‰è£…ç›®å½•å¤±è´¥ï¼š%{path}" / "Failed to create install directory: %{path}"

#### 4. **æ›´æ–°æ–‡æ¡£**
- ä¿®æ”¹ `docs/ANALYSIS.md` ä¸­å®‰è£…ç›®å½•çš„æè¿°

### ğŸ§ª éªŒè¯ç»“æœ

- âœ… **ä»£ç è´¨é‡**: `cargo check` å’Œ `cargo clippy` å…¨éƒ¨é€šè¿‡
- âœ… **å®‰è£…æµ‹è¯•**: æˆåŠŸå®‰è£…åˆ° `/home/xleine/.local/bin/xdev`
- âœ… **å¸è½½æµ‹è¯•**: æˆåŠŸä»ç”¨æˆ·ç›®å½•å¸è½½
- âœ… **é”™è¯¯å¤„ç†**: å›½é™…åŒ–æ¶ˆæ¯æ­£å¸¸å·¥ä½œ
- âœ… **æƒé™**: æ— éœ€ sudoï¼Œå®Œå…¨ç”¨æˆ·çº§å®‰è£…

### ğŸ”§ æŠ€æœ¯ä¼˜åŠ¿

1. **æ›´å®‰å…¨**: é¿å…ç³»ç»Ÿçº§ç›®å½•ï¼Œæ— éœ€ sudo æƒé™
2. **æ›´ç®€æ´**: é€»è¾‘æ›´æ¸…æ™°ï¼Œåªæœ‰ä¸€ä¸ªå®‰è£…è·¯å¾„
3. **æ›´å‹å¥½**: æ‰€æœ‰æ“ä½œéƒ½åœ¨ç”¨æˆ·ç©ºé—´è¿›è¡Œ
4. **æ›´å¯é **: å‡å°‘äº†å› æƒé™é—®é¢˜å¯¼è‡´çš„å®‰è£…å¤±è´¥

ç°åœ¨ `xdev` çš„å®‰è£…å’Œå¸è½½å®Œå…¨é™åˆ¶åœ¨ç”¨æˆ·ç›®å½• `~/.local/bin` ä¸­ï¼Œç¬¦åˆç°ä»£è½¯ä»¶åŒ…ç®¡ç†çš„æœ€ä½³å®è·µï¼

---

**User**

ç°åœ¨ handle_command æ˜¯ä¸æ˜¯å·²ç»ä¸éœ€è¦äº†ï¼Ÿç›´æ¥ä½¿ç”¨ executeï¼Ÿ

---

**Cursor**

```rust
   pub fn handle_command(matches: &ArgMatches) -> Result<()> {
       // è®©å„ä¸ªæ¨¡å—è‡ªå·±å¤„ç†å‘½ä»¤
       version::handle_command(matches)?;
       install::handle_command(matches)?;
       uninstall::handle_command(matches)?;
       config::handle_command(matches)?;
       draft::handle_command(matches)?;
```

```rust
   pub fn handle_command(matches: &ArgMatches) -> Result<()> {
       if matches.subcommand_matches("subcommand_name").is_some() {
           execute()
       } else {
           Ok(())
       }
   }
```

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    match matches.subcommand() {
        Some(("version", _)) => version::execute(),
        Some(("install", _)) => install::execute(),
        Some(("uninstall", _)) => uninstall::execute(),
        Some(("config", sub_matches)) => config::handle_command(sub_matches), // configå¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†å› ä¸ºæœ‰å­å‘½ä»¤
        Some(("draft", _)) => draft::execute(),
        _ => {
            if matches.subcommand().is_none() {
                println!("{}", t!("general.default_message"));
            }
            Ok(())
        }
    }
}
```

ä½ è¯´å¾—éå¸¸å¯¹ï¼è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ¶æ„æ”¹è¿›å»ºè®®ã€‚è®©æˆ‘å…ˆæŸ¥çœ‹ä¸€ä¸‹å½“å‰å„ä¸ªæ¨¡å—çš„ `handle_command` å®ç°ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥ç®€åŒ–ã€‚

ä½ çš„è§‚å¯Ÿéå¸¸å‡†ç¡®ï¼çœ‹äº†è¿™äº›ä»£ç åï¼Œæˆ‘å‘ç°ç¡®å®å­˜åœ¨å¾ˆå¤šé‡å¤çš„æ ·æ¿ä»£ç ã€‚è®©æˆ‘åˆ†æä¸€ä¸‹å½“å‰çš„æƒ…å†µï¼š

## å½“å‰é—®é¢˜åˆ†æ

**ç®€å•å‘½ä»¤** (version, install, uninstall, draft)ï¼š
```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("command_name").is_some() {
        execute()
    } else {
        Ok(())
    }
}
```

**å¤æ‚å‘½ä»¤** (config)ï¼š
```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if let Some(config_matches) = matches.subcommand_matches("config") {
        match config_matches.subcommand() {
            Some(("show", _)) => show(),
            Some(("set", set_matches)) => { /* éœ€è¦å¤„ç†å‚æ•° */ }
            _ => show()
        }
    } else {
        Ok(())
    }
}
```

## é‡æ„æ–¹æ¡ˆ

è®©æˆ‘é‡æ„è¿™ä¸ªæ¶æ„ï¼Œæ¶ˆé™¤ä¸å¿…è¦çš„ `handle_command` å‡½æ•°ï¼š

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("command_name").is_some() {
        execute()
    } else {
        Ok(())
    }
}
```

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if let Some(config_matches) = matches.subcommand_matches("config") {
        match config_matches.subcommand() {
            Some(("show", _)) => show(),
            Some(("set", set_matches)) => { /* éœ€è¦å¤„ç†å‚æ•° */ }
            _ => show()
        }
    } else {
        Ok(())
    }
}
```

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    // è®©å„ä¸ªæ¨¡å—è‡ªå·±å¤„ç†å‘½ä»¤
    version::handle_command(matches)?;
    install::handle_command(matches)?;
    uninstall::handle_command(matches)?;
    config::handle_command(matches)?;
    draft::handle_command(matches)?;

    // å¦‚æœæ²¡æœ‰åŒ¹é…çš„å­å‘½ä»¤ï¼Œæ˜¾ç¤ºé»˜è®¤ä¿¡æ¯
    if matches.subcommand().is_none() {
        println!("{}", t!("general.default_message"));
    }

    Ok(())
}

->

pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    match matches.subcommand() {
        Some(("version", _)) => version::execute(),
        Some(("install", _)) => install::execute(),
        Some(("uninstall", _)) => uninstall::execute(),
        Some(("config", config_matches)) => config::handle_command_direct(config_matches),
        Some(("draft", _)) => draft::execute(),
        _ => {
            // å¦‚æœæ²¡æœ‰åŒ¹é…çš„å­å‘½ä»¤ï¼Œæ˜¾ç¤ºé»˜è®¤ä¿¡æ¯
            println!("{}", t!("general.default_message"));
            Ok(())
        }
    }
}
```

ç°åœ¨æˆ‘éœ€è¦é‡æ„å„ä¸ªæ¨¡å—ã€‚é¦–å…ˆä¿®å¤configæ¨¡å—ï¼š

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if let Some(config_matches) = matches.subcommand_matches("config") {
        match config_matches.subcommand() {
            Some(("show", _)) => show(),
            Some(("set", set_matches)) => {
                let field = set_matches.get_one::<String>("field").map(|s| s.as_str());
                let value = set_matches.get_one::<String>("value").map(|s| s.as_str());
                set_item(field, value)
            }
            _ => {
                show() // é»˜è®¤æ˜¾ç¤ºé…ç½®
            }
        }
    } else {
        Ok(())
    }
}

->

pub fn handle_command_direct(config_matches: &ArgMatches) -> Result<()> {
    match config_matches.subcommand() {
        Some(("show", _)) => show(),
        Some(("set", set_matches)) => {
            let field = set_matches.get_one::<String>("field").map(|s| s.as_str());
            let value = set_matches.get_one::<String>("value").map(|s| s.as_str());
            set_item(field, value)
        }
        _ => {
            show() // é»˜è®¤æ˜¾ç¤ºé…ç½®
        }
    }
}
```

ç°åœ¨ç§»é™¤å…¶ä»–æ¨¡å—çš„ `handle_command` å‡½æ•°ï¼š

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("version").is_some() {
        execute()
    } else {
        Ok(())
    }
}

pub fn execute() -> Result<()> {

->

pub fn execute() -> Result<()> {
```

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("install").is_some() {
        execute()
    } else {
        Ok(())
    }
}

pub fn execute() -> Result<()> {

->

pub fn execute() -> Result<()> {
```

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("uninstall").is_some() {
        execute()
    } else {
        Ok(())
    }
}

pub fn execute() -> Result<()> {

->

pub fn execute() -> Result<()> {
```

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("draft").is_some() {
        execute()
    } else {
        Ok(())
    }
}

pub fn execute() -> Result<()> {

->

pub fn execute() -> Result<()> {
```

ç°åœ¨éœ€è¦ç§»é™¤ä¸å†ä½¿ç”¨çš„ `ArgMatches` å¯¼å…¥ï¼š

```rust
use clap::{ArgMatches, Command};

->

use clap::Command;
```

```rust
use clap::{ArgMatches, Command};

->

use clap::Command;
```

```rust
use clap::{ArgMatches, Command};

->

use clap::Command;
```

```rust
use clap::{ArgMatches, Command};

->

use clap::Command;
```

ç°åœ¨æµ‹è¯•é‡æ„åçš„ä»£ç ï¼š

---

**User**

æ¯ä¸ªå­å‘½ä»¤éƒ½è°ƒç”¨ executeï¼Œæ‰€ä»¥config å‘½ä»¤ä¹Ÿç›´æ¥è°ƒç”¨ executeï¼Œå…·ä½“çš„åˆ†å‘ config æ¨¡å—è‡ªå·±å¤„ç†

---

**Cursor**

ä½ è¯´å¾—å®Œå…¨æ­£ç¡®ï¼è¿™æ ·å¯ä»¥è®©æ‰€æœ‰å‘½ä»¤éƒ½æœ‰ç»Ÿä¸€çš„æ¥å£ `execute()`ï¼Œæ¶æ„æ›´åŠ ä¸€è‡´å’Œæ¸…æ™°ã€‚è®©æˆ‘æ¥é‡æ„ config æ¨¡å—ï¼š

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    match matches.subcommand() {
        Some(("version", _)) => version::execute(),
        Some(("install", _)) => install::execute(),
        Some(("uninstall", _)) => uninstall::execute(),
        Some(("config", config_matches)) => config::handle_command_direct(config_matches),
        Some(("draft", _)) => draft::execute(),
        _ => {
            // å¦‚æœæ²¡æœ‰åŒ¹é…çš„å­å‘½ä»¤ï¼Œæ˜¾ç¤ºé»˜è®¤ä¿¡æ¯
            println!("{}", t!("general.default_message"));
            Ok(())
        }
    }
}

->

pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    match matches.subcommand() {
        Some(("version", _)) => version::execute(),
        Some(("install", _)) => install::execute(),
        Some(("uninstall", _)) => uninstall::execute(),
        Some(("config", config_matches)) => config::execute(config_matches),
        Some(("draft", _)) => draft::execute(),
        _ => {
            // å¦‚æœæ²¡æœ‰åŒ¹é…çš„å­å‘½ä»¤ï¼Œæ˜¾ç¤ºé»˜è®¤ä¿¡æ¯
            println!("{}", t!("general.default_message"));
            Ok(())
        }
    }
}
```

```rust
pub fn handle_command_direct(config_matches: &ArgMatches) -> Result<()> {
    match config_matches.subcommand() {
        Some(("show", _)) => show(),
        Some(("set", set_matches)) => {
            let field = set_matches.get_one::<String>("field").map(|s| s.as_str());
            let value = set_matches.get_one::<String>("value").map(|s| s.as_str());
            set_item(field, value)
        }
        _ => {
            show() // é»˜è®¤æ˜¾ç¤ºé…ç½®
        }
    }
}

->

pub fn execute(config_matches: &ArgMatches) -> Result<()> {
    match config_matches.subcommand() {
        Some(("show", _)) => show(),
        Some(("set", set_matches)) => {
            let field = set_matches.get_one::<String>("field").map(|s| s.as_str());
            let value = set_matches.get_one::<String>("value").map(|s| s.as_str());
            set_item(field, value)
        }
        _ => {
            show() // é»˜è®¤æ˜¾ç¤ºé…ç½®
        }
    }
}
```

ç°åœ¨æµ‹è¯•é‡æ„åçš„ä»£ç ï¼š

å®Œç¾ï¼é‡æ„æˆåŠŸäº†ã€‚è®©æˆ‘æµ‹è¯•ä¸€ä¸‹å…¶ä»–å‘½ä»¤ç¡®ä¿éƒ½æ­£å¸¸å·¥ä½œï¼š

## âœ… æ¶æ„é‡æ„å®Œæˆï¼

**ğŸ¯ é‡æ„æˆåŠŸï¼šç°åœ¨æ‰€æœ‰å­å‘½ä»¤éƒ½ä½¿ç”¨ç»Ÿä¸€çš„ `execute()` æ¥å£**

### ğŸ“‹ é‡æ„æˆæœ

#### **æ–°çš„ç»Ÿä¸€æ¶æ„**
```rust
// ä¸­å¤®åˆ†å‘å™¨ (mod.rs)
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    match matches.subcommand() {
        Some(("version", _)) => version::execute(),
        Some(("install", _)) => install::execute(),
        Some(("uninstall", _)) => uninstall::execute(),
        Some(("config", config_matches)) => config::execute(config_matches),
        Some(("draft", _)) => draft::execute(),
        _ => { /* é»˜è®¤æ¶ˆæ¯ */ }
    }
}
```

#### **æ¯ä¸ªæ¨¡å—çš„ç»Ÿä¸€æ¥å£**
- âœ… `version::execute()` - ç›´æ¥æ‰§è¡Œç‰ˆæœ¬æ˜¾ç¤º
- âœ… `install::execute()` - ç›´æ¥æ‰§è¡Œå®‰è£…
- âœ… `uninstall::execute()` - ç›´æ¥æ‰§è¡Œå¸è½½  
- âœ… `config::execute(config_matches)` - å†…éƒ¨å¤„ç†å­å‘½ä»¤åˆ†å‘
- âœ… `draft::execute()` - ç›´æ¥æ‰§è¡Œè‰ç¨¿æŸ¥æ‰¾

### ğŸš€ æ¶æ„ä¼˜åŠ¿

#### **1. ç»Ÿä¸€æ€§**
- æ‰€æœ‰å‘½ä»¤éƒ½æœ‰ç›¸åŒçš„å…¥å£ç‚¹ï¼š`execute()`
- æ¶ˆé™¤äº†é‡å¤çš„æ ·æ¿ä»£ç 

#### **2. ç®€æ´æ€§**
- ç§»é™¤äº†ä¸å¿…è¦çš„ `handle_command` å‡½æ•°
- å‡å°‘äº†çº¦ **30 è¡Œå†—ä½™ä»£ç **

#### **3. æ¸…æ™°æ€§**
- ä¸­å¤®åˆ†å‘å™¨é€»è¾‘æ›´åŠ ç›´è§‚
- æ¯ä¸ªæ¨¡å—èŒè´£æ›´åŠ æ˜ç¡®

#### **4. å¯ç»´æŠ¤æ€§**
- æ–°å¢å‘½ä»¤åªéœ€å®ç° `execute()` å‡½æ•°
- æ¶æ„ä¸€è‡´ï¼Œé™ä½è®¤çŸ¥è´Ÿæ‹…

### ğŸ§ª éªŒè¯ç»“æœ

- âœ… **ä»£ç è´¨é‡**: `cargo check` å’Œ `cargo clippy` å…¨éƒ¨é€šè¿‡
- âœ… **åŠŸèƒ½æµ‹è¯•**: æ‰€æœ‰å‘½ä»¤éƒ½æ­£å¸¸å·¥ä½œ
- âœ… **å­å‘½ä»¤**: config çš„å­å‘½ä»¤ï¼ˆshow/setï¼‰æ­£å¸¸å·¥ä½œ
- âœ… **é”™è¯¯å¤„ç†**: ä¿æŒäº†å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶

### ğŸ”§ æŠ€æœ¯æ”¹è¿›

**ä¹‹å‰çš„å†—ä½™ä»£ç :**
```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("command_name").is_some() {
        execute()
    } else {
        Ok(())
    }
}
```

**ç°åœ¨çš„ç®€æ´æ–¹å¼:**
```rust
// åªéœ€è¦å®ç°
pub fn execute() -> Result<()> { /* åŠŸèƒ½å®ç° */ }
```

è¿™æ¬¡é‡æ„æ˜¾è‘—æå‡äº†ä»£ç çš„ç®€æ´æ€§å’Œä¸€è‡´æ€§ã€‚**config æ¨¡å—ç°åœ¨ä¹Ÿä½¿ç”¨ `execute()` æ¥å£ï¼Œå†…éƒ¨è‡ªå·±å¤„ç†å­å‘½ä»¤åˆ†å‘**ï¼Œè®©æ•´ä¸ªæ¶æ„æ›´åŠ ç»Ÿä¸€å’Œä¼˜é›…ï¼

```rust
// ä¸­å¤®åˆ†å‘å™¨ (mod.rs)
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    match matches.subcommand() {
        Some(("version", _)) => version::execute(),
        Some(("install", _)) => install::execute(),
        Some(("uninstall", _)) => uninstall::execute(),
        Some(("config", config_matches)) => config::execute(config_matches),
        Some(("draft", _)) => draft::execute(),
        _ => { /* é»˜è®¤æ¶ˆæ¯ */ }
    }
}
```

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    if matches.subcommand_matches("command_name").is_some() {
        execute()
    } else {
        Ok(())
    }
}
```

```rust
// åªéœ€è¦å®ç°
pub fn execute() -> Result<()> { /* åŠŸèƒ½å®ç° */ }
```

---

**User**

å½“æ²¡æœ‰åŒ¹é…åˆ°æ”¯æŒçš„å‘½ä»¤å‚æ•°çš„æ—¶å€™ï¼Œç­‰åŒäºä¼ é€’äº† help å‘½ä»¤

---

**Cursor**

```rust
_ => {
    // å¦‚æœæ²¡æœ‰åŒ¹é…çš„å­å‘½ä»¤ï¼Œæ˜¾ç¤ºé»˜è®¤ä¿¡æ¯
    println!("{}", t!("general.default_message"));
    Ok(())
}
```

ä½ çš„å»ºè®®éå¸¸å¥½ï¼æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯æ¯”æ˜¾ç¤ºé»˜è®¤æ¶ˆæ¯æ›´åŠ ç”¨æˆ·å‹å¥½ã€‚è®©æˆ‘ä¿®æ”¹ä»£ç ï¼Œå½“æ²¡æœ‰åŒ¹é…åˆ°æ”¯æŒçš„å‘½ä»¤æ—¶æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚

```rust
pub fn handle_command(matches: &ArgMatches) -> Result<()> {
    match matches.subcommand() {
        Some(("version", _)) => version::execute(),
        Some(("install", _)) => install::execute(),
        Some(("uninstall", _)) => uninstall::execute(),
        Some(("config", config_matches)) => config::execute(config_matches),
        Some(("draft", _)) => draft::execute(),
        _ => {
            // å¦‚æœæ²¡æœ‰åŒ¹é…çš„å­å‘½ä»¤ï¼Œæ˜¾ç¤ºé»˜è®¤ä¿¡æ¯
            println!("{}", t!("general.default_message"));
            Ok(())
        }
    }
}

->

pub fn handle_command(app: &mut Command, matches: &ArgMatches) -> Result<()> {
    match matches.subcommand() {
        Some(("version", _)) => version::execute(),
        Some(("install", _)) => install::execute(),
        Some(("uninstall", _)) => uninstall::execute(),
        Some(("config", config_matches)) => config::execute(config_matches),
        Some(("draft", _)) => draft::execute(),
        _ => {
            // å¦‚æœæ²¡æœ‰åŒ¹é…çš„å­å‘½ä»¤ï¼Œæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
            app.print_help()?;
            println!(); // æ·»åŠ ä¸€ä¸ªæ¢è¡Œ
            Ok(())
        }
    }
}
```

```rust
    let app = commands::register_command();
    let matches = app.get_matches();

    commands::handle_command(&matches)

->

    let mut app = commands::register_command();
    let matches = app.get_matches();

    commands::handle_command(&mut app, &matches)
```

```rust
    let mut app = commands::register_command();
    let matches = app.get_matches();

    commands::handle_command(&mut app, &matches)

->

    let mut app = commands::register_command();
    let matches = app.clone().get_matches();

    commands::handle_command(&mut app, &matches)
```

```rust
use crate::core::i18n::t;
use anyhow::Result;
use clap::{ArgMatches, Command};

->

use crate::core::i18n::t;
use anyhow::Result;
use clap::{ArgMatches, Command};
```

ç°åœ¨è®©æˆ‘æ¸…ç†ä¸€ä¸‹ä¸å†ä½¿ç”¨çš„å›½é™…åŒ–æ¶ˆæ¯ï¼š

```yaml
general:
  default_message: "xdev CLI å·¥å…· - ä½¿ç”¨ --help è·å–æ›´å¤šä¿¡æ¯"
  app_description: "å¼€å‘ CLI å·¥å…·"
  choose_option: "é€‰æ‹©ä¸€ä¸ªé€‰é¡¹"
  draft_path_description: "draft è·¯å¾„"

->

general:
  app_description: "å¼€å‘ CLI å·¥å…·"
  choose_option: "é€‰æ‹©ä¸€ä¸ªé€‰é¡¹"
  draft_path_description: "draft è·¯å¾„"
```

```yaml
general:
  default_message: "xdev CLI tool - use --help for more information"
  app_description: "A development CLI tool"
  choose_option: "Choose an option"
  draft_path_description: "Path for draft documents"

->

general:
  app_description: "A development CLI tool"
  choose_option: "Choose an option"
  draft_path_description: "Path for draft documents"
```

## âœ… ä¿®æ”¹å®Œæˆï¼

**ğŸ¯ ç°åœ¨å½“æ²¡æœ‰åŒ¹é…åˆ°æ”¯æŒçš„å‘½ä»¤å‚æ•°æ—¶ï¼Œä¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯**

### ğŸ“‹ å®Œæˆçš„ä¿®æ”¹

#### **1. ä¿®æ”¹å‘½ä»¤åˆ†å‘é€»è¾‘**
```rust
// ä¹‹å‰ï¼šæ˜¾ç¤ºé»˜è®¤æ¶ˆæ¯
_ => {
    println!("{}", t!("general.default_message"));
    Ok(())
}

// ç°åœ¨ï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
_ => {
    app.print_help()?;
    println!(); // æ·»åŠ ä¸€ä¸ªæ¢è¡Œ
    Ok(())
}
```

#### **2. è°ƒæ•´å‡½æ•°ç­¾å**
- ä¿®æ”¹ `handle_command` æ¥æ”¶ `Command` å¯¹è±¡ä»¥è°ƒç”¨ `print_help()`
- åœ¨ `main.rs` ä¸­å…‹éš† `app` å¯¹è±¡ä»¥é¿å…å€Ÿç”¨å†²çª

#### **3. æ¸…ç†ä¸éœ€è¦çš„å›½é™…åŒ–æ¡ç›®**
- ç§»é™¤äº† `general.default_message` ï¼ˆä¸­è‹±æ–‡ï¼‰
- ç®€åŒ–äº†å›½é™…åŒ–æ–‡ä»¶

### ğŸ¯ æ–°çš„ç”¨æˆ·ä½“éªŒ

#### **æ²¡æœ‰æä¾›å‘½ä»¤æ—¶** (`xdev`)ï¼š
```
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]

Commands:
  version    æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  install    å®‰è£… xdev äºŒè¿›åˆ¶æ–‡ä»¶åˆ°ç³»ç»Ÿ
  uninstall  ä»ç³»ç»Ÿä¸­å¸è½½ xdev äºŒè¿›åˆ¶æ–‡ä»¶
  config     ç®¡ç†é…ç½®
  draft      æŸ¥æ‰¾æœ€æ–°çš„ draft ç›®å½•
  help       Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```

#### **æ— æ•ˆå‘½ä»¤æ—¶** (`xdev invalid_command`)ï¼š
```
error: unrecognized subcommand 'invalid_command'

Usage: xdev [COMMAND]

For more information, try '--help'.
```

### ğŸš€ ç”¨æˆ·ä½“éªŒæ”¹è¿›

1. **æ›´ç›´è§‚**: æ²¡æœ‰å‘½ä»¤æ—¶ç›´æ¥æ˜¾ç¤ºå¯ç”¨é€‰é¡¹
2. **æ›´ä¸€è‡´**: ä¸æ ‡å‡† CLI å·¥å…·è¡Œä¸ºä¸€è‡´ 
3. **æ›´å‹å¥½**: ç”¨æˆ·èƒ½ç«‹å³çœ‹åˆ°æ‰€æœ‰å¯ç”¨å‘½ä»¤
4. **æ›´ç®€æ´**: ä»£ç é€»è¾‘æ›´æ¸…æ™°

### ğŸ§ª éªŒè¯ç»“æœ

- âœ… **ä»£ç è´¨é‡**: `cargo check` å’Œ `cargo clippy` å…¨éƒ¨é€šè¿‡
- âœ… **å¸®åŠ©æ˜¾ç¤º**: æ— å‘½ä»¤æ—¶æ­£ç¡®æ˜¾ç¤ºå¸®åŠ©
- âœ… **é”™è¯¯å¤„ç†**: æ— æ•ˆå‘½ä»¤æ—¶clapè‡ªåŠ¨å¤„ç†
- âœ… **æ­£å¸¸å‘½ä»¤**: æ‰€æœ‰ç°æœ‰å‘½ä»¤åŠŸèƒ½æ­£å¸¸
- âœ… **å›½é™…åŒ–**: å¸®åŠ©ä¿¡æ¯æ­£ç¡®æœ¬åœ°åŒ–

è¿™ä¸ªä¿®æ”¹è®© CLI å·¥å…·çš„è¡Œä¸ºæ›´åŠ ç¬¦åˆç”¨æˆ·æœŸæœ›ï¼Œæä¾›äº†æ›´å¥½çš„å¼€ç®±å³ç”¨ä½“éªŒï¼

```rust
// ä¹‹å‰ï¼šæ˜¾ç¤ºé»˜è®¤æ¶ˆæ¯
_ => {
    println!("{}", t!("general.default_message"));
    Ok(())
}

// ç°åœ¨ï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
_ => {
    app.print_help()?;
    println!(); // æ·»åŠ ä¸€ä¸ªæ¢è¡Œ
    Ok(())
}
```

```plaintext
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]

Commands:
  version    æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  install    å®‰è£… xdev äºŒè¿›åˆ¶æ–‡ä»¶åˆ°ç³»ç»Ÿ
  uninstall  ä»ç³»ç»Ÿä¸­å¸è½½ xdev äºŒè¿›åˆ¶æ–‡ä»¶
  config     ç®¡ç†é…ç½®
  draft      æŸ¥æ‰¾æœ€æ–°çš„ draft ç›®å½•
  help       Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```

```plaintext
error: unrecognized subcommand 'invalid_command'

Usage: xdev [COMMAND]

For more information, try '--help'.
```

---

**User**

å½“ä½¿ç”¨çš„æ˜¯ä¸æ”¯æŒçš„å‘½ä»¤çš„æ—¶å€™ï¼Œæ‰“å°å¸®åŠ©ä¿¡æ¯

---

**Cursor**

```plaintext
xleine@rust:~/xdev$ cargo run -- invalid_command
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.03s
     Running `target/debug/xdev invalid_command`
error: unrecognized subcommand 'invalid_command'

Usage: xdev [COMMAND]

For more information, try '--help'.
```

ä½ è¯´å¾—å¯¹ï¼å½“ç”¨æˆ·è¾“å…¥ä¸æ”¯æŒçš„å‘½ä»¤æ—¶ï¼Œåº”è¯¥æ˜¾ç¤ºå®Œæ•´çš„å¸®åŠ©ä¿¡æ¯è€Œä¸æ˜¯ç®€å•çš„é”™è¯¯æç¤ºã€‚è®©æˆ‘ä¿®æ”¹ä»£ç æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚

```rust
    let mut app = commands::register_command();
    let matches = app.clone().get_matches();

    commands::handle_command(&mut app, &matches)

->

    let mut app = commands::register_command();
    let matches = match app.clone().try_get_matches() {
        Ok(matches) => matches,
        Err(err) => {
            // å¦‚æœæ˜¯æœªçŸ¥å­å‘½ä»¤é”™è¯¯ï¼Œæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
            if err.kind() == clap::error::ErrorKind::UnknownArgument 
                || err.kind() == clap::error::ErrorKind::InvalidSubcommand {
                app.print_help()?;
                println!();
                return Ok(());
            } else {
                // å…¶ä»–é”™è¯¯ç›´æ¥é€€å‡º
                err.exit();
            }
        }
    };

    commands::handle_command(&mut app, &matches)
```

ç°åœ¨æµ‹è¯•ä¿®æ”¹åçš„ä»£ç ï¼š

## âœ… ä¿®æ”¹å®Œæˆï¼

**ğŸ¯ ç°åœ¨å½“ä½¿ç”¨ä¸æ”¯æŒçš„å‘½ä»¤æ—¶ï¼Œä¼šæ˜¾ç¤ºå®Œæ•´çš„å¸®åŠ©ä¿¡æ¯**

### ğŸ“‹ å®ç°çš„åŠŸèƒ½

#### **é”™è¯¯å¤„ç†é€»è¾‘**
```rust
let matches = match app.clone().try_get_matches() {
    Ok(matches) => matches,
    Err(err) => {
        // å¦‚æœæ˜¯æœªçŸ¥å­å‘½ä»¤æˆ–å‚æ•°é”™è¯¯ï¼Œæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
        if err.kind() == clap::error::ErrorKind::UnknownArgument 
            || err.kind() == clap::error::ErrorKind::InvalidSubcommand {
            app.print_help()?;
            println!();
            return Ok(());
        } else {
            // å…¶ä»–é”™è¯¯ç›´æ¥é€€å‡º
            err.exit();
        }
    }
};
```

### ğŸ¯ ç°åœ¨çš„ç”¨æˆ·ä½“éªŒ

#### **âœ… æ— æ•ˆå‘½ä»¤** (`xdev invalid_command`, `xdev xyz`)ï¼š
```
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]

Commands:
  version    æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  install    å®‰è£… xdev äºŒè¿›åˆ¶æ–‡ä»¶åˆ°ç³»ç»Ÿ
  uninstall  ä»ç³»ç»Ÿä¸­å¸è½½ xdev äºŒè¿›åˆ¶æ–‡ä»¶
  config     ç®¡ç†é…ç½®
  draft      æŸ¥æ‰¾æœ€æ–°çš„ draft ç›®å½•
  help       Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```

#### **âœ… æ— æ•ˆå‚æ•°** (`xdev --invalid-flag`)ï¼š
```
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]
...ï¼ˆæ˜¾ç¤ºå®Œæ•´å¸®åŠ©ï¼‰
```

#### **âœ… æ²¡æœ‰å‘½ä»¤** (`xdev`)ï¼š
```
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]
...ï¼ˆæ˜¾ç¤ºå®Œæ•´å¸®åŠ©ï¼‰
```

### ğŸš€ ç”¨æˆ·ä½“éªŒæ”¹è¿›

**ä¹‹å‰çš„ä½“éªŒï¼š**
```bash
# æ— æ•ˆå‘½ä»¤æ—¶
$ xdev invalid_command
error: unrecognized subcommand 'invalid_command'

Usage: xdev [COMMAND]

For more information, try '--help'.
```

**ç°åœ¨çš„ä½“éªŒï¼š**
```bash
# æ— æ•ˆå‘½ä»¤æ—¶
$ xdev invalid_command
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]

Commands:
  version    æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  install    å®‰è£… xdev äºŒè¿›åˆ¶æ–‡ä»¶åˆ°ç³»ç»Ÿ
  uninstall  ä»ç³»ç»Ÿä¸­å¸è½½ xdev äºŒè¿›åˆ¶æ–‡ä»¶
  config     ç®¡ç†é…ç½®
  draft      æŸ¥æ‰¾æœ€æ–°çš„ draft ç›®å½•
  help       Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```

### ğŸ¯ è¦†ç›–çš„é”™è¯¯ç±»å‹

1. **`InvalidSubcommand`**: æ— æ•ˆçš„å­å‘½ä»¤ï¼ˆå¦‚ `invalid_command`ï¼‰
2. **`UnknownArgument`**: æ— æ•ˆçš„å‚æ•°æˆ–æ ‡å¿—ï¼ˆå¦‚ `--invalid-flag`ï¼‰

### ğŸ§ª éªŒè¯ç»“æœ

- âœ… **æ— æ•ˆå‘½ä»¤**: æ˜¾ç¤ºå®Œæ•´å¸®åŠ©ä¿¡æ¯
- âœ… **æ— æ•ˆå‚æ•°**: æ˜¾ç¤ºå®Œæ•´å¸®åŠ©ä¿¡æ¯  
- âœ… **æ­£å¸¸å‘½ä»¤**: åŠŸèƒ½å®Œå…¨æ­£å¸¸
- âœ… **å­å‘½ä»¤**: config ç­‰å¤æ‚å‘½ä»¤æ­£å¸¸å·¥ä½œ
- âœ… **å¸®åŠ©å‘½ä»¤**: `--help` å’Œ `help` æ­£å¸¸å·¥ä½œ
- âœ… **ä»£ç è´¨é‡**: `cargo check` å’Œ `cargo clippy` å…¨éƒ¨é€šè¿‡

### ğŸ’¡ è®¾è®¡ä¼˜åŠ¿

1. **å³æ—¶å¸®åŠ©**: ç”¨æˆ·ä¸éœ€è¦é¢å¤–è¾“å…¥ `--help`
2. **ä¸€è‡´ä½“éªŒ**: æ‰€æœ‰é”™è¯¯æƒ…å†µéƒ½æ˜¾ç¤ºç›¸åŒçš„å¸®åŠ©ä¿¡æ¯
3. **å­¦ä¹ å‹å¥½**: æ–°ç”¨æˆ·å¯ä»¥ç«‹å³çœ‹åˆ°æ‰€æœ‰å¯ç”¨å‘½ä»¤
4. **å‡å°‘æŒ«è´¥æ„Ÿ**: é¿å…äº†"éœ€è¦å¸®åŠ©æ‰èƒ½è·å¾—å¸®åŠ©"çš„æƒ…å†µ

è¿™ä¸ªæ”¹è¿›æ˜¾è‘—æå‡äº†CLIå·¥å…·çš„ç”¨æˆ·å‹å¥½æ€§ï¼Œè®©ç”¨æˆ·åœ¨è¾“å…¥é”™è¯¯æ—¶èƒ½å¤Ÿç«‹å³è·å¾—æœ‰ç”¨çš„æŒ‡å¯¼ä¿¡æ¯ï¼

```rust
let matches = match app.clone().try_get_matches() {
    Ok(matches) => matches,
    Err(err) => {
        // å¦‚æœæ˜¯æœªçŸ¥å­å‘½ä»¤æˆ–å‚æ•°é”™è¯¯ï¼Œæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
        if err.kind() == clap::error::ErrorKind::UnknownArgument 
            || err.kind() == clap::error::ErrorKind::InvalidSubcommand {
            app.print_help()?;
            println!();
            return Ok(());
        } else {
            // å…¶ä»–é”™è¯¯ç›´æ¥é€€å‡º
            err.exit();
        }
    }
};
```

```plaintext
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]

Commands:
  version    æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  install    å®‰è£… xdev äºŒè¿›åˆ¶æ–‡ä»¶åˆ°ç³»ç»Ÿ
  uninstall  ä»ç³»ç»Ÿä¸­å¸è½½ xdev äºŒè¿›åˆ¶æ–‡ä»¶
  config     ç®¡ç†é…ç½®
  draft      æŸ¥æ‰¾æœ€æ–°çš„ draft ç›®å½•
  help       Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```

```plaintext
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]
...ï¼ˆæ˜¾ç¤ºå®Œæ•´å¸®åŠ©ï¼‰
```

```plaintext
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]
...ï¼ˆæ˜¾ç¤ºå®Œæ•´å¸®åŠ©ï¼‰
```

```shellscript
# æ— æ•ˆå‘½ä»¤æ—¶
$ xdev invalid_command
error: unrecognized subcommand 'invalid_command'

Usage: xdev [COMMAND]

For more information, try '--help'.
```

```shellscript
# æ— æ•ˆå‘½ä»¤æ—¶
$ xdev invalid_command
å¼€å‘ CLI å·¥å…·

Usage: xdev [COMMAND]

Commands:
  version    æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  install    å®‰è£… xdev äºŒè¿›åˆ¶æ–‡ä»¶åˆ°ç³»ç»Ÿ
  uninstall  ä»ç³»ç»Ÿä¸­å¸è½½ xdev äºŒè¿›åˆ¶æ–‡ä»¶
  config     ç®¡ç†é…ç½®
  draft      æŸ¥æ‰¾æœ€æ–°çš„ draft ç›®å½•
  help       Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```

